## 스택

스택(Stack)은 데이터를 일시적으로 저장하기 위해 사용되는 자료구조로, 데이터의 입력과 출력 순서는 후입선출(LIFO, Last In First Out - 가장 나중에 넣은 데이터를 가장 먼저 꺼낸다)이다. 스택에 데이터를 넣는 작업을 푸시(Push)라 하고, 스택에서 데이터를 꺼내는 작업을 팝(Pop)이라고 한다.  푸시, 팝을 하는 위치를 꼭대기(Top)라고 하고, 스택의 가장 밑바닥 부분을 바닥(Bottom)이라고 한다. 

![](./Figure/스택AND큐1.JPG)

C 언어 프로그램에서는 함수를 호출하고 실행할 때 프로그램 내부에서 스택을 사용한다.

![](./Figure/스택AND큐2.JPG)



파이썬에서 스크립트를 호출했을 때 작동 방식은 아래를 참조한다.

[파이썬 코딩 도장: 함수의 호출과정 알아보기](https://dojang.io/mod/page/view.php?id=2341)

기본적으로 작동 원리는 C에서와 유사하다. 메모리에 프레임(메모리에서 함수와 함수에 속한 변수가 저장되는 독립적인 공간)이 있고, 파이썬 스크립트 전체에서 접근할 수 있는 전역 프레임과 각 함수별 프레임이 할당된다. 

1. ![](./Figure/스택AND큐6.JPG)
2. ![](./Figure/스택AND큐4.JPG)
3. ![](./Figure/스택AND큐5.JPG)
4. ![](./Figure/스택AND큐7.JPG)
5. ![](./Figure/스택AND큐8.JPG)



### 초기화 함수 Initialize

Initialize 함수는 스택의 메모리 공간(배열)을 확보하는 등의 준비 작업을 수행하는 함수이다. 배열을 위한 메모리 공간을 만들 때 스택은 비어 있어야 한다. 따라서 스택 포인터 ptr 값을 0, 요소의 개수가 max인 배열 stk를 생성한다. 또 매개변수 max로 받은 값을 스택 최대 용량을 나타내는 구조체의 멤버 max에 저장한다. 따라서 스택의 개별 요소는 바닥(Bottom)부터 stk[0], stk[1], ..., stk[max - 1]이 된다. 

(배열을 위한 메모리 공간을 확보하는 데 실패하면 max의 값을 0으로 해야 하는데, 이는 존재하지 않는 배열 stk에 다른 함수의 접근을 막기 위해서이다.)

![](./Figure/스택AND큐3.JPG)



### 푸시 함수 Push

Push 함수는 스택에 데이터를 추가하는 함수로, 스택이 가득 차서 푸시할 수 없는 경우에는 -1을 반환한다. 스택이 가득 차지 않았다면 새로 추가할 데이터(x)를 배열의 요소(stk[ptr])에 저장하고 스택 포인터(ptr)을 증가시킨다. 마지막으로 푸시에 성공하면 0을 반환한다. 

![](./Figure/스택AND큐9.JPG)

(여기서 스택 포인터 ptr은 포인터 변수를 의미하는 것이 아니라 새로운 데이터를 삽입할 인덱스를 기억하는 용도로 사용하는 변수로, 스택의 인덱스를 가리킨다라는 의미로 스택 포인터라고 한다.)



### 팝 함수 Pop

Pop 함수는 스택의 꼭대기에서 데이터를 제거하는 함수이다. 팝에 성공할 경우에는 0을 반환하고 스택이 비어 있어 팝을 할 수 없는 경우에는 -1을 반환한다. 먼저 스택 포인터 ptr의 값을 감소시키고 stk[ptr]에 저장된 값을 포인터 x가 가리키는 변수에 저장한다. 

![](./Figure/스택AND큐10.JPG)



### 피크 함수 Peek

Peek 함수는 스택 꼭대기의 데이터를 확인하는 함수이다. 피크에 성공하면 0을 반환하고 스택이 비어 있으면 -1을 반환한다. 스택이 비어 있지 않다면 꼭대기 요소 stk[ptr - 1]의 값을 포인터 x가 가리키는 변수에 저장한다. 데이터의 입출력이 없으므로 스택 포인터는 변화하지 않는다.



### 스택의 모든 요소를 삭제하는 함수 Clear

Clear 함수는 스택에 쌓여 있는 모든 데이터를 삭제하는 함수이다(스택에 대한 푸시와 팝 등 모든 작업은 스택 포인터를 바탕으로 이루어진다. 따라서 스택의 배열 요솟값을 변경할 필요가 없으므로 모든 요소의 삭제는 스택 포인터 ptr 값을 0으로 하면 된다).



### 용량을 확인하는 함수 Capacity

Capacity 함수는 스택의 용량(멤버 max의 값)을 반환하는 함수이다. 



### 데이터의 개수를 확인하는 함수 Size

Size 함수는 현재 스택에 쌓여 있는 데이터의 개수(멤버 ptr의 값)를 반환하는 함수이다.



### 스택이 비어 있는지 검사하는 함수 IsEmpty

IsEmpty 함수는 스택이 비어 있는지 검사하는 함수이다. 스택이 비어 있으면 1, 그렇지 않으면 0을 반환한다.



### 스택이 가득 찼는지 검사하는 함수 IsFull

IsFull 함수는 스택이 가득 찼는지 검사하는 함수이다. 스택이 가득 찼으면 1, 그렇지 않으면 0을 반환한다.



### 임의의 값을 검색하는 함수 Search

Search 함수는 임의의 값의 데이터가 스택의 어느 위치에 쌓여 있는지 검사하는 함수이다. 검색은 꼭대기에서 바닥으로 선형 검색을 수행한다(배열 인덱스가 큰 쪽에서 작은 쪽으로 스캔). 검색에 성공하면 찾은 요소의 인덱스를 반환하고 실패하면 -1을 반환한다(같은 값이 여러개 있을 때는 Top에 가장 가까운 값의 인덱스를 반환한다. Top에서부터 검색하는 이유는 먼저 팝되는 데이터를 찾기 위해서이다).

![](./Figure/스택AND큐11.JPG)



### 모든 데이터를 출력하는 함수 Print

Print 함수는 스택의 모든 데이터를 출력하는 함수이다. 스택에 쌓여 있는 ptr개의 모든 데이터를 바닥부터 순서대로 출력한다. 



### 종료 함수 Terminate

Terminate 함수는 뒤처리를 담당하는 함수로, Initialize 함수로 확보한 스택을 해제하고 용량 max와 스택 포인터 ptr의 값을 0으로 한다.